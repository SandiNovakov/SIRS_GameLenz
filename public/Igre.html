<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App List</title>
    <link rel="stylesheet" href="styles/main.css">
</head>

<body>
    <div>
        <div class="igre-container" id="igre-container"></div>

        <script>
            const container = document.getElementById("igre-container"); //Ova linija trazi element sa ID-jem "igre-container" i u njega upisuje igrice

            fetch(`./povuci-igre`) //fetch salje GET zahtjev ./povuci-igre
                .then(response => response.json())

                .then(data => {
                    const apps = data.games;
                    apps.forEach(app => {
                        console.log(app); //Izjava bilje≈æi pojedinosti svake igre za debugging.
                        const appDiv = document.createElement("div"); //Kreira se div element pod nazivom appDiv
                        appDiv.classList.add("game-item"); //Div-u se dodaje klasa "game-item"

                        appDiv.innerHTML = //Dodaju se doljnja tri elementa u innerHTML div-a
                        ` 
                            <h2>${app.name}</h2>
                            <p>appid: ${app.appid}</p>
                            <a href="/dodaj-igru?name=${encodeURIComponent(app.name)}&appid=${app.appid}" class="button">Dodaj Igru</a>
                        `;

                        container.appendChild(appDiv); //appDiv se dodaje u container
                    });
                });
        </script>
    </div>
</body>

</html>